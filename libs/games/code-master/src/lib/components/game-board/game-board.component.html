<section class="code-master-game-board" *ngIf="game">
  <div class="win-combination turn">
    <cdm-win-combination [game]="game"></cdm-win-combination>
  </div>
  <ng-container *ngFor="let turn of game.turns; let turnIdx = index">
    <div class="turn">
      <div class="flex-center flex-justify-start">
        <p
          [class.line-number-active]="turn.turnState === turnState.InProgress"
          [class.line-number-incorrect]="turn.turnState === turnState.Complete && !turn.isWinningTurn"
          [class.line-number-won]="game.winState === winState.Won && turn.isWinningTurn"
        >
          {{game.turns.length - turnIdx}}
        </p>
      </div>
      <div class="pins">
        <cdm-pins [pins]="turn.pins" [state]="turn.turnState"></cdm-pins>
      </div>
      <div class="colors">
        <cdm-colors
          [turn]="turn"
          [game]="game"
          (selectable)="setSelectable($event.color, $event.turn)"
          (color)="selectColor($event.option, $event.color)"
        ></cdm-colors>
      </div>
      <div class="actions">
        <cdm-turn-complete
          [turn]="turn"
          [turnIdx]="turnIdx"
          (complete)="completeTurn($event.turn, $event.turnIdx)"
        ></cdm-turn-complete>
      </div>
    </div>
  </ng-container>
</section>
